<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- https://www.designsystem.tech.gov.sg/docs/installation/ -->
    <link href="/static/styles/bootstrap.min.css" rel="stylesheet">
    <link href="/static/styles/sgds.css" rel="stylesheet">
    <link href="/static/styles/styles.css" rel="stylesheet">

    <!-- Include app icon -->
    <link rel="shortcut icon" href="/static/images/favicon.ico">

    <!-- Include jQuery -->
    <script src="/static/appscripts/jquery-3.5.1.min.js"></script>
    
    <!-- Include Bootstrap -->
    <script src="/static/appscripts/bootstrap.bundle.min.js"></script>

    <!-- https://d3js.org/ -->
    <script src="/static/appscripts/d3.v7.min.js"></script>

    <!-- Include my custom scripts -->
    <script src="/static/appscripts/tabs.js"></script>
    <script src="/static/appscripts/upload.js"></script>
    <script src="/static/appscripts/main.js" defer></script>

    <!-- Include script for flaskwebgui -->
    <script src="/static/appscripts/stop_server.js"></script>
    
    <title>Pulse Sensor</title>
</head>
<body>
    <div class="flex-wrapper">
        <div>
            <div class="sgds-masthead">
                <a>
                    <span class="sgds-icon sgds-icon-sg-crest"></span>
                    <span class="is-text">A Singapore Government Agency Application</span>
                </a>
            </div>

            <nav class="sgds-navbar" role="navigation">
                <div class="sgds-navbar-brand">
                    <a class="sgds-navbar-item is-active is-uppercase">
                        Pulse Sensor
                    </a>
                </div>
            </nav>
            
            <section class="sgds-section">
                <div class="container p-5">
                    <div class="sgds-tabs is-boxed">
                        <ul class="no-margin" role="tablist">
                            <li class="is-active">
                                <a data-tab="#single" role="tab">
                                    <i class="sgds-icon sgds-icon-edit padding--right--sm"></i>
                                    Single
                                </a>
                            </li>
                            <li>
                                <a data-tab="#batch" role="tab">
                                    <i class="sgds-icon sgds-icon-upload padding--right--sm"></i>
                                    Batch
                                </a>
                            </li>
                        </ul>
                    </div>
        
                    <div class="row tab-content-container" id="single">
                        <div class="col">
                            <div class="tab-content">
                                <form class="single">
                                    <div class="field">
                                        <div class="control">
                                          <textarea class="textarea" placeholder="Enter employee review here." required></textarea>
                                          <input class="sgds-button is-link" type="submit" value="Submit">
                                        </div>
                                    </div>
                                </form>

                                <div class="alert hidden"></div> 
                                <div class="alert alert-secondary hidden"></div> 
                            </div>
                        </div>
                    </div>

                    <div class="row tab-content-container hidden" id="batch">
                        <div class="col">
                            <div class="tab-content upload">
                                <form class="batch">
                                    <div class="field">
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" id="customFile" accept=".csv" required>
                                            <label class="custom-file-label" for="customFile">Choose file</label>
                                        </div>
                                    </div>
    
                                    <footer class="small text-left max-upload">
                                        Maximum upload file size: 2 MB.
                                    </footer>
                                    
                                    <div class="form-group hidden">
                                        <label for="text-column">Column containing the text for analysis</label>
                                        <select class="custom-select" id="text-column" required>
                                            <option selected disabled value="">Choose...</option>
                                        </select>
                                    </div>
            
                                    <div class="form-group hidden">
                                        <input class="sgds-button is-link" type="submit" value="Submit">
                                    </div>
                                </form>

                                <div class="table-container">
                                    <table class="table table-h hidden">
                                        <thead>
                                            <tr></tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                </div>
                            </div>

                            <div class="tab-content progress-update hidden">
                                <header class="alert alert-success border text-center">Job Sent!</header>
                                <div class="sgds-section">
                                    <p class="h1 text-center progress-text">0%</p>
                                    <progress class="sgds-progress is-link" value="0" max="100"></progress> 
                                    <p class="text-center">Please <strong>DO NOT</strong> refresh the page or close the application.</p>    
                                </div>
                            </div>

                            <div class="tab-content download hidden">
                                <header class="alert alert-success border text-center">Job Completed!</header>
                                <div class="sgds-section">
                                    <p class="text-center ready">Your <strong>Sentiment Analysis</strong> results are ready for download.</p>
                                    <div class="d-flex justify-content-center">
                                        <button class="sgds-button is-link">Download</button>
                                        <button class="sgds-button is-link is-outlined">Back</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <div class="sgds-modal is-active">
                <div class="sgds-modal-background"></div>
                <div class="sgds-modal-card">
                    <header class="sgds-modal-card-head">
                        <p class="sgds-modal-card-title">Warning</p>
                        <button class="delete close-modal"></button>
                    </header>
                    <section class="sgds-modal-card-body">
                        <p><span class="sgds-icon sgds-icon-triangle-warning"></span> Pulse Sensor should only be accessed for authorised official purpose.</p>
                    </section>
                    <footer class="sgds-modal-card-foot is-flex-justify-fe">
                        <button class="sgds-button is-link close-modal">OK</button>
                    </footer>
                </div>
            </div>
        </div>
        
        <footer class='sgds-footer'>
            <div class="top-section">
                <div class="sgds-container is-fluid">
                    <div class="row">
                        <div class="col">
                            <img class="ica-logo" src="/static/images/ica-logo.png" alt="Immigration & Checkpoints Authority Logo">
                        </div>
                    </div>
                </div>
            </div>

            <div class="bottom-section">
                <div class="sgds-container is-fluid">
                    <div class="row is-multiline">
                        <div class="col is-12 has-text-left-desktop has-text-left-tablet has-text-left-mobile">
                            <p> Â© Information Management Division | Data Management & Analytics Branch</p>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
</body>
</html>